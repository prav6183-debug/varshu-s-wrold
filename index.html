<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Varshu's World - 100 Levels</title>
    <style>
        :root {
            --accent: #00ffcc;
            --gold: #f1c40f;
            --danger: #ff4757;
        }
        body {
            font-family: 'Segoe UI', sans-serif;
            background: #050505;
            background: radial-gradient(circle, #1a1a2e 0%, #080810 100%);
            height: 100vh;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            overflow: hidden;
        }
        #game-box {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(25px);
            border: 2px solid rgba(0, 255, 204, 0.3);
            padding: 40px;
            border-radius: 40px;
            width: 450px;
            text-align: center;
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.8);
            position: relative;
        }
        .high-score-badge {
            position: absolute;
            top: -15px;
            right: 20px;
            background: var(--gold);
            color: #000;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.8em;
        }
        h1 { color: var(--accent); font-size: 3em; margin: 0; text-shadow: 0 0 20px rgba(0, 255, 204, 0.5); }
        .timer-bar { width: 100%; height: 8px; background: rgba(255,255,255,0.1); border-radius: 10px; margin: 25px 0; overflow: hidden; }
        #timer-fill { width: 100%; height: 100%; background: var(--accent); transition: 0.1s linear; }
        .stats { display: flex; justify-content: space-between; font-weight: bold; }
        #q-text { font-size: 2.2em; min-height: 110px; display: flex; align-items: center; justify-content: center; }
        input {
            width: 85%;
            padding: 15px;
            border-radius: 15px;
            border: 1px solid rgba(255,255,255,0.2);
            background: rgba(0, 0, 0, 0.4);
            color: var(--accent);
            font-size: 1.8em;
            text-align: center;
            outline: none;
        }
        button {
            margin-top: 25px;
            background: linear-gradient(90deg, #00ffcc, #00d1b2);
            color: #000;
            border: none;
            padding: 15px 50px;
            font-size: 1.2em;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: 0.4s;
            <meta name="google-site-verification" content="tTrGvL7HNGqu4sJUTORUrdVoBeyqM_n0-7Xc4CqfsA8" />
        }
        button:hover { transform: scale(1.05); box-shadow: 0 0 20px var(--accent); }
        .shake { animation: shake 0.4s; }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-15px); }
            40%, 80% { transform: translateX(15px); }
        }
        .confetti { position: absolute; width: 8px; height: 8px; border-radius: 50%; pointer-events: none; }
    </style>
</head>
<body>

<div id="game-box">
    <div class="high-score-badge">üèÜ BEST: <span id="high-score">1</span></div>
    
    <div id="start-screen">
        <h1>Varshu's World</h1>
        <p>100 Levels of Mind Power!</p>
        <button onclick="startGame()">START MISSION</button>
    </div>

    <div id="play-screen" style="display: none;">
        <div class="stats">
            <span style="color: var(--gold)">LEVEL <span id="lvl">1</span></span>
            <span style="color: var(--danger)">TIME: <span id="timer-sec">15</span>s</span>
        </div>
        <div class="timer-bar"><div id="timer-fill"></div></div>
        <div id="q-text">Ready?</div>
        <input type="number" id="ans" placeholder="?" autocomplete="off">
        <br>
        <button onclick="check()">SUBMIT</button>
    </div>
</div>

<script>
    let level = 1;
    let highScore = localStorage.getItem('varshuHighScore') || 1;
    let answer = 0;
    let timeLeft = 15;
    let timerInterval;
    
    document.getElementById('high-score').innerText = highScore;

    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    function playSound(freq, type, duration) {
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.type = type;
        osc.frequency.setValueAtTime(freq, audioCtx.currentTime);
        gain.gain.setValueAtTime(0.05, audioCtx.currentTime);
        osc.connect(gain);
        gain.connect(audioCtx.destination);
        osc.start();
        osc.stop(audioCtx.currentTime + duration);
    }

    function fireworks() {
        for(let i=0; i<15; i++) {
            const c = document.createElement('div');
            c.className = 'confetti';
            document.body.appendChild(c);
            const x = window.innerWidth / 2;
            const y = window.innerHeight / 2;
            c.style.left = x + 'px';
            c.style.top = y + 'px';
            c.style.background = `hsl(${Math.random() * 360}, 100%, 50%)`;
            c.animate([
                { transform: 'translate(0,0) scale(1)', opacity: 1 },
                { transform: `translate(${(Math.random()-0.5)*500}px, ${(Math.random()-0.5)*500}px) scale(0)`, opacity: 0 }
            ], { duration: 800 }).onfinish = () => c.remove();
        }
    }

    function startGame() {
        document.getElementById('start-screen').style.display = 'none';
        document.getElementById('play-screen').style.display = 'block';
        loadLevel();
    }

    function loadLevel() {
        clearInterval(timerInterval);
        timeLeft = 15;
        document.getElementById('ans').value = "";
        document.getElementById('ans').focus();
        
        // Generate Question
        if (level <= 30) {
            let a = Math.floor(Math.random() * 10) + level;
            let b = Math.floor(Math.random() * 10) + 2;
            document.getElementById('q-text').innerText = `${a} + ${b} = ?`;
            answer = a + b;
        } else if (level <= 70) {
            let a = Math.floor(Math.random() * 10) + 2;
            let b = Math.floor(Math.random() * 5) + 5;
            document.getElementById('q-text').innerText = `${a} x ${b} = ?`;
            answer = a * b;
        } else {
            let a = Math.floor(Math.random() * 20) + 20;
            document.getElementById('q-text').innerText = `${a} + ${a} - ${level} = ?`;
            answer = (a + a) - level;
        }

        document.getElementById('lvl').innerText = level;
        startTimer();
    }

    function startTimer() {
        timerInterval = setInterval(() => {
            timeLeft -= 0.1;
            document.getElementById('timer-sec').innerText = Math.ceil(timeLeft);
            document.getElementById('timer-fill').style.width = (timeLeft / 15) * 100 + "%";
            if (timeLeft <= 0) {
                clearInterval(timerInterval);
                playSound(100, 'sawtooth', 0.5);
                alert("Game Over! Restarting Level 1.");
                level = 1;
                loadLevel();
            }
        }, 100);
    }

    function check() {
        let userAns = parseInt(document.getElementById('ans').value);
        if (userAns === answer) {
            playSound(1000, 'sine', 0.1);
            fireworks();
            level++;
            if (level > highScore) {
                highScore = level;
                localStorage.setItem('varshuHighScore', highScore);
                document.getElementById('high-score').innerText = highScore;
            }
            if (level > 100) { alert("GENIUS! You beat Varshu's World!"); location.reload(); }
            else { loadLevel(); }
        } else {
            playSound(150, 'square', 0.2);
            document.getElementById('game-box').classList.add('shake');
            setTimeout(() => document.getElementById('game-box').classList.remove('shake'), 400);
        }
    }

    document.getElementById('ans').addEventListener("keyup", (e) => { if(e.key === "Enter") check(); });
</script>
</body>

</html>
